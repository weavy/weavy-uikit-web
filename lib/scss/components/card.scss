@use "../base/color";
@use "../base/text";
@use "../base/var";
@use "../base/highlight";

[part~="wy-card"] {
  --wy-component-background-color: #{color.token(--wy-surface-layer-high)};
  --wy-component-color: #{color.token(--wy-on-surface)};
  --wy-component-border-radius: #{var.default(--wy-border-radius)};

  background-color: var(--wy-component-background-color);
  color: var(--wy-component-color);
  border-radius: var(--wy-component-border-radius);

  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-clip: border-box;

  padding: var.default(--wy-padding-sm);
  @include highlight.flash;
}

[part~="wy-card-primary"] {
  --wy-component-background-color: #{color.token(--wy-primary-container)};
  --wy-component-color: #{color.token(--wy-on-primary-container)};
}

// trashed modifier
[part~="wy-trashed"] {
  text-decoration: line-through;
  opacity: var.default(--wy-opacity-disabled);
}

// hover modifier
[part~="wy-card-hover"] {
  cursor: pointer;
  user-select: none;

  // State layer
  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    background: var(--wy-component-color);
    opacity: 0%;
  }

  &:hover {
    &::before {
      opacity: var.default(--wy-opacity-state-hover); //8%;
    }
  }
  &:focus {
    &::before {
      opacity: var.default(--wy-opacity-state-focus); //12%;
    }
  }
  &:active,
  &[part~="wy-active"] {
    &::before {
      opacity: var.default(--wy-opacity-state-active); //12%;
    }
  }
}

[part~="wy-card-actions"] {
  position: absolute;
  top: var.default(--wy-padding);
  right: var.default(--wy-padding);
  align-items: center;
  display: flex;
}

[part~="wy-card-icon"] {
  --wy-component-icon-width: #{var.wy-rem(6)};
  --wy-component-icon-height: #{var.wy-rem(6)};
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  margin: auto;
}

[part~="wy-card-image"] {
  width: auto;
  height: auto;

  border-radius: var(--wy-component-border-radius);

  object-fit: cover;
  object-position: center;
  flex: 1 1 100%;
  max-height: var.wy-rem(10);

  &[part~="wy-loading"] {
    transition: opacity 0.15s ease-out;
    opacity: 0;

    &[part~="wy-loaded"] {
      opacity: 1;
      transition: opacity 0.15s ease-out;
    }
  }
}

[part~="wy-card-image-top"] {
  object-position: top center;
}

[part~="wy-card-title"] {
  padding: 0 var.default(--wy-padding-sm);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var.default(--wy-gap-sm);
  height: 2.25rem;
  box-sizing: border-box;
}

[part~="wy-input"] {
  height: 2.25rem;
  box-sizing: border-box;
  flex: 0 1 auto;
}

[part~="wy-card-text"] {
  line-height: var.default(--wy-line-height);
  flex: 0 1 auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

[part~="wy-card-action"] {
  flex: 0 0 auto;
  white-space: nowrap;
}
